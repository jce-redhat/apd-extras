---
aap_user_accounts:
  - username: apd-admin
    email: apd-admin@example.com
    password: '{{ lookup("env","AAP_PASSWORD") | default(omit) }}'

gateway_role_user_assignments:
  - user: apd-admin
    role_definition: Organization Admin
    object_ids:
      - Ansible Product Demos (APD)

eda_credentials:
  - name: AAP Credential
    description: AAP credential for EDA projects
    state: present
    credential_type: Red Hat Ansible Automation Platform
    organization: Ansible Product Demos (APD)
    inputs:
      host: '{{ lookup("env","AAP_HOSTNAME") | default("https://example.com") }}'
      username: '{{ lookup("env","AAP_USERNAME") | default(omit) }}'
      password: '{{ lookup("env","AAP_PASSWORD") | default(omit) }}'
      oauth_token: '{{ lookup("env","AAP_TOKEN") | default(omit) }}'
      verify_ssl: '{{ lookup("env","AAP_VALIDATE_CERTS") | default(omit) }}'
      request_timeout: '{{ lookup("env","AAP_REQUEST_TIMEOUT") | default(omit) }}'

eda_projects:
  - name: APD Extras
    description: Additional AAP resources for use with Ansible Product Demos
    state: present
    url: https://github.com/jce-redhat/apd-extras.git
    organization: Ansible Product Demos (APD)

eda_rulebook_activations:
  - name: Check web server URL
    description: Check availability of a URL, and restart the web server if needed
    state: present
    enabled: false
    organization: Ansible Product Demos (APD)
    decision_environment: Default Decision Environment
    project: APD Extras
    rulebook: check-url.yml
    extra_vars:
      web_server_debug: true

...
